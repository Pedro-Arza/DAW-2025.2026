<h1>Lista de Usuarios</h1>

@defer (on viewport) {
  @if (usuarios.length > 0) {
    <div class="user-grid">
      @for (user of usuarios; track user._id) {
        <div class="user-card">
            @let fullName = user.first_name + ' ' + user.last_name;
            <img [src]="user.image" [alt]="fullName">
            <h3>{{ fullName }}</h3>
            <p>{{ user.email }}</p>
            
            <div class="action-buttons">
              <button class="btn btn-info" (click)="verDetalles(user._id)">Detalles</button>
              <button class="btn btn-warning" (click)="actualizarUsuario(user._id)">Actualizar</button>
              <button class="btn btn-danger" (click)="borrarUsuario(user._id)">Borrar</button>
            </div>
        </div>
      }
    </div>
  } @else {
    <p>No se encontraron usuarios.</p>
  }
} @placeholder {
  <p>Cargando componente de usuarios...</p>
} @loading (minimum 1s) {
  <p>Obteniendo datos...</p>
} @error {
  <p>Error al cargar los usuarios</p>
}